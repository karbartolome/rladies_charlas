---
title: "R y python - Rladies"
output: html_document
date: '2022-04-09'
---




```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, eval=FALSE}
# Se instalan los paquetes necesarios
install.packages('reticulate')
reticulate::install_miniconda()

# Se visualiza la versión de python:
reticulate::py_config()
reticulate::py_version()

reticulate::conda_create('rladies-env', 
                         # En este caso, versión de python que tenemos en RStudio cloud:
                         python_version = '3.8.13' 
                         )
```

```{r}
# Desde la terminal ejecutar lo siguiente
# source /home/rstudio-user/.local/share/r-miniconda/etc/profile.d/conda.sh
paste0('source ',gsub('C:','',reticulate::miniconda_path()),'/etc/profile.d/conda.sh')
```


https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html 

# Se activa el environment creado:
conda activate rladies-env

# Se listan los environments, visualizando que está seleccionado el correcto

# Se instalan 2 paquetes para probar que funciona correctamente
conda install numpy
conda install pandas



# Prueba del conda environment

```{r}
reticulate::use_condaenv(condaenv = 'rladies-env',  required = TRUE)
```

```{python}
import numpy as np
import pandas as pd
```

```{r}
df = iris
```

```{python}
df_pandas = r.df
```

```{python}
df_pandas.head(2)
```


# Se retorna al environment base
conda activate

# Se elimina el environment creado
conda remove --name rladies-env --all

# Se listan los environment disponibles
conda env list






